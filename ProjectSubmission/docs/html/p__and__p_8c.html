<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CITS3007 Project: p_and_p.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CITS3007 Project
   </div>
   <div id="projectbrief">Nineteenth-century paranormal MMORPG</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('p__and__p_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">p_and_p.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="p__and__p_8h_source.html">p_and_p.h</a>&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;pwd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for p_and_p.c:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="p__and__p_8c__incl.svg" width="100%" height="440"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="p__and__p_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#a3024ccd4a9af5109d24e6c57565d74a1">_POSIX_C_SOURCE</a>&#160;&#160;&#160;200809L</td></tr>
<tr class="separator:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab91715820c37e4a405f797137044a417"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#ab91715820c37e4a405f797137044a417">saveItemDetails</a> (const struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *arr, size_t nmemb, int fd)</td></tr>
<tr class="memdesc:ab91715820c37e4a405f797137044a417"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that validates the data, opens the incomming file descriptor for writing and writes the data to the file.  <a href="p__and__p_8c.html#ab91715820c37e4a405f797137044a417">More...</a><br /></td></tr>
<tr class="separator:ab91715820c37e4a405f797137044a417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac7455bb8cad9f22589c724d142d674"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#aeac7455bb8cad9f22589c724d142d674">saveItemDetailsToPath</a> (const struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *arr, size_t nmemb, const char *filename)</td></tr>
<tr class="memdesc:aeac7455bb8cad9f22589c724d142d674"><td class="mdescLeft">&#160;</td><td class="mdescRight">For Testing purposes only.  <a href="p__and__p_8c.html#aeac7455bb8cad9f22589c724d142d674">More...</a><br /></td></tr>
<tr class="separator:aeac7455bb8cad9f22589c724d142d674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ff273f3ae7b323a2325e57bc55165f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#ad7ff273f3ae7b323a2325e57bc55165f">loadItemDetails</a> (struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> **ptr, size_t *nmemb, int fd)</td></tr>
<tr class="memdesc:ad7ff273f3ae7b323a2325e57bc55165f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> from a file descriptor, validates the data and stores it in the provided pointer.  <a href="p__and__p_8c.html#ad7ff273f3ae7b323a2325e57bc55165f">More...</a><br /></td></tr>
<tr class="separator:ad7ff273f3ae7b323a2325e57bc55165f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abadf6a620876f0fd2a396c1dc922eba3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#abadf6a620876f0fd2a396c1dc922eba3">isValidName</a> (const char *str)</td></tr>
<tr class="memdesc:abadf6a620876f0fd2a396c1dc922eba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks if a string is a valid name.  <a href="p__and__p_8c.html#abadf6a620876f0fd2a396c1dc922eba3">More...</a><br /></td></tr>
<tr class="separator:abadf6a620876f0fd2a396c1dc922eba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b67b25c7e9f090f0a684d8c1660d20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#a95b67b25c7e9f090f0a684d8c1660d20">isValidMultiword</a> (const char *str)</td></tr>
<tr class="memdesc:a95b67b25c7e9f090f0a684d8c1660d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks if a string is a valid multiword.  <a href="p__and__p_8c.html#a95b67b25c7e9f090f0a684d8c1660d20">More...</a><br /></td></tr>
<tr class="separator:a95b67b25c7e9f090f0a684d8c1660d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016e2cb079f819b59593d79aeed8b024"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#a016e2cb079f819b59593d79aeed8b024">isValidItemDetails</a> (const struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *id)</td></tr>
<tr class="memdesc:a016e2cb079f819b59593d79aeed8b024"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks if an itemDetail srtuct is valid.  <a href="p__and__p_8c.html#a016e2cb079f819b59593d79aeed8b024">More...</a><br /></td></tr>
<tr class="separator:a016e2cb079f819b59593d79aeed8b024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec06dfc8a90dfe2c5a0c7d56f727ae21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#aec06dfc8a90dfe2c5a0c7d56f727ae21">isValidCharacter</a> (const struct <a class="el" href="p__and__p_8h.html#structCharacter">Character</a> *c)</td></tr>
<tr class="memdesc:aec06dfc8a90dfe2c5a0c7d56f727ae21"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks whether a <a class="el" href="p__and__p_8h.html#structCharacter" title="Records the base details of a player character.">Character</a> struct is valid It is valid iff all of its fields are valid the profession field must be a valid name field the name field must be a valid multi-word field the total number of items carried must not exceed MAX_ITEMS inventorySize must be less than or equal to MAX_ITEMS.  <a href="p__and__p_8c.html#aec06dfc8a90dfe2c5a0c7d56f727ae21">More...</a><br /></td></tr>
<tr class="separator:aec06dfc8a90dfe2c5a0c7d56f727ae21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79b1f170a60ef74d15baec28e4f11a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#ab79b1f170a60ef74d15baec28e4f11a8">saveCharacters</a> (struct <a class="el" href="p__and__p_8h.html#structCharacter">Character</a> *arr, size_t nmemb, int fd)</td></tr>
<tr class="memdesc:ab79b1f170a60ef74d15baec28e4f11a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function validates the data, opens a file descriptor for writing, and writes the data to the file.  <a href="p__and__p_8c.html#ab79b1f170a60ef74d15baec28e4f11a8">More...</a><br /></td></tr>
<tr class="separator:ab79b1f170a60ef74d15baec28e4f11a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ba374e7f225849324a43bb1cc25340"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#a77ba374e7f225849324a43bb1cc25340">loadCharacters</a> (struct <a class="el" href="p__and__p_8h.html#structCharacter">Character</a> **ptr, size_t *nmemb, int fd)</td></tr>
<tr class="memdesc:a77ba374e7f225849324a43bb1cc25340"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads <a class="el" href="p__and__p_8h.html#structCharacter" title="Records the base details of a player character.">Character</a> from a file descriptor, validates the data and stores it in the incomming pointer.  <a href="p__and__p_8c.html#a77ba374e7f225849324a43bb1cc25340">More...</a><br /></td></tr>
<tr class="separator:a77ba374e7f225849324a43bb1cc25340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296f75eb03e00e12cf915c62b664c075"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#a296f75eb03e00e12cf915c62b664c075">secureLoad</a> (const char *filepath)</td></tr>
<tr class="memdesc:a296f75eb03e00e12cf915c62b664c075"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function attempt to acquire appropriate permissions for opening the <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> database and load the database from the specified file, and then call the function playgame() to which it should pass the loaded data and the number of items in the loaded data.  <a href="p__and__p_8c.html#a296f75eb03e00e12cf915c62b664c075">More...</a><br /></td></tr>
<tr class="separator:a296f75eb03e00e12cf915c62b664c075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eaab20527c20e574a714be763e26eb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__and__p_8c.html#a1eaab20527c20e574a714be763e26eb6">playGame</a> (struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *ptr, size_t nmemb)</td></tr>
<tr class="separator:a1eaab20527c20e574a714be763e26eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3024ccd4a9af5109d24e6c57565d74a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3024ccd4a9af5109d24e6c57565d74a1">&#9670;&nbsp;</a></span>_POSIX_C_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _POSIX_C_SOURCE&#160;&#160;&#160;200809L</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00010">10</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab91715820c37e4a405f797137044a417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91715820c37e4a405f797137044a417">&#9670;&nbsp;</a></span>saveItemDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int saveItemDetails </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that validates the data, opens the incomming file descriptor for writing and writes the data to the file. </p>
<p>It makes a copy of <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> array and check the copy if it is valid by calling other isValidItemDetails. It returns 0 on success and 1 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>The array of <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> to save. </td></tr>
    <tr><td class="paramname">nmemb</td><td>The number of elements in the array. </td></tr>
    <tr><td class="paramname">fd</td><td>The file descriptor to write to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00038">38</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8c_source.html#l00258">isValidItemDetails()</a>.</p>

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00095">saveItemDetailsToPath()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_ab91715820c37e4a405f797137044a417_cgraph.svg" width="508" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_ab91715820c37e4a405f797137044a417_icgraph.svg" width="359" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aeac7455bb8cad9f22589c724d142d674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac7455bb8cad9f22589c724d142d674">&#9670;&nbsp;</a></span>saveItemDetailsToPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int saveItemDetailsToPath </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For Testing purposes only. </p>
<p>This function saves an array of <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> to a binary file. It first opens the file, then calls saveItemDetails to perform the actual data saving. After the data is saved, the file is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>Pointer to the array of <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> to be saved. </td></tr>
    <tr><td class="paramname">nmemb</td><td>Number of elements in the array. </td></tr>
    <tr><td class="paramname">filename</td><td>Path to the binary file where data will be saved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00095">95</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8c_source.html#l00038">saveItemDetails()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_aeac7455bb8cad9f22589c724d142d674_cgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad7ff273f3ae7b323a2325e57bc55165f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ff273f3ae7b323a2325e57bc55165f">&#9670;&nbsp;</a></span>loadItemDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loadItemDetails </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> **&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> from a file descriptor, validates the data and stores it in the provided pointer. </p>
<p>It checks each filed in the struct if they pass valid functions. After passing, only copy the string up to null byte terminator and sanitizes bytes after the null bye. It returns 0 on success and 1 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to store the loaded data. </td></tr>
    <tr><td class="paramname">nmemb</td><td>Number of elements loaded. </td></tr>
    <tr><td class="paramname">fd</td><td>File descriptor to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00119">119</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8h_source.html#l00025">ItemDetails::desc</a>, <a class="el" href="p__and__p_8c_source.html#l00258">isValidItemDetails()</a>, and <a class="el" href="p__and__p_8h_source.html#l00024">ItemDetails::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00478">secureLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_ad7ff273f3ae7b323a2325e57bc55165f_cgraph.svg" width="506" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_ad7ff273f3ae7b323a2325e57bc55165f_icgraph.svg" width="282" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abadf6a620876f0fd2a396c1dc922eba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abadf6a620876f0fd2a396c1dc922eba3">&#9670;&nbsp;</a></span>isValidName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isValidName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks if a string is a valid name. </p>
<p>The incomming string should return true with function isgraph() Return 1 on success and 0 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to validate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if valid, 0 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00195">195</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00289">isValidCharacter()</a>, and <a class="el" href="p__and__p_8c_source.html#l00258">isValidItemDetails()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_abadf6a620876f0fd2a396c1dc922eba3_icgraph.svg" width="100%" height="442"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a95b67b25c7e9f090f0a684d8c1660d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95b67b25c7e9f090f0a684d8c1660d20">&#9670;&nbsp;</a></span>isValidMultiword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isValidMultiword </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks if a string is a valid multiword. </p>
<p>The incomming parameter should return true with function isgraph() The incomming parameter is allowed to have spaces but not at the start or end Return 1 on success and 0 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to validate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if valid, 0 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00227">227</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00289">isValidCharacter()</a>, and <a class="el" href="p__and__p_8c_source.html#l00258">isValidItemDetails()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_a95b67b25c7e9f090f0a684d8c1660d20_icgraph.svg" width="100%" height="442"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a016e2cb079f819b59593d79aeed8b024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016e2cb079f819b59593d79aeed8b024">&#9670;&nbsp;</a></span>isValidItemDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isValidItemDetails </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks if an itemDetail srtuct is valid. </p>
<p>Calls isValidName and isValidMultiword to check struct fields validity. Return 1 on success and 0 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>pointer to the item detail struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if valid, 0 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00258">258</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8h_source.html#l00025">ItemDetails::desc</a>, <a class="el" href="p__and__p_8c_source.html#l00227">isValidMultiword()</a>, <a class="el" href="p__and__p_8c_source.html#l00195">isValidName()</a>, <a class="el" href="p__and__p_8h_source.html#l00023">ItemDetails::itemID</a>, and <a class="el" href="p__and__p_8h_source.html#l00024">ItemDetails::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00119">loadItemDetails()</a>, and <a class="el" href="p__and__p_8c_source.html#l00038">saveItemDetails()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_a016e2cb079f819b59593d79aeed8b024_cgraph.svg" width="331" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_a016e2cb079f819b59593d79aeed8b024_icgraph.svg" width="548" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aec06dfc8a90dfe2c5a0c7d56f727ae21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec06dfc8a90dfe2c5a0c7d56f727ae21">&#9670;&nbsp;</a></span>isValidCharacter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isValidCharacter </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="p__and__p_8h.html#structCharacter">Character</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function checks whether a <a class="el" href="p__and__p_8h.html#structCharacter" title="Records the base details of a player character.">Character</a> struct is valid It is valid iff all of its fields are valid the profession field must be a valid name field the name field must be a valid multi-word field the total number of items carried must not exceed MAX_ITEMS inventorySize must be less than or equal to MAX_ITEMS. </p>
<p>Returns 1 if the struct is valid, and 0 if not. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Pointer to the <a class="el" href="p__and__p_8h.html#structCharacter" title="Records the base details of a player character.">Character</a> struct to validate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if valid, 0 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00289">289</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8h_source.html#l00045">ARISTOCRACY</a>, <a class="el" href="p__and__p_8h_source.html#l00069">Character::characterID</a>, <a class="el" href="p__and__p_8h_source.html#l00074">Character::inventory</a>, <a class="el" href="p__and__p_8h_source.html#l00073">Character::inventorySize</a>, <a class="el" href="p__and__p_8c_source.html#l00227">isValidMultiword()</a>, <a class="el" href="p__and__p_8c_source.html#l00195">isValidName()</a>, <a class="el" href="p__and__p_8h_source.html#l00041">MENDICANT</a>, <a class="el" href="p__and__p_8h_source.html#l00072">Character::name</a>, <a class="el" href="p__and__p_8h_source.html#l00071">Character::profession</a>, <a class="el" href="p__and__p_8h_source.html#l00034">ItemCarried::quantity</a>, and <a class="el" href="p__and__p_8h_source.html#l00070">Character::socialClass</a>.</p>

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00398">loadCharacters()</a>, and <a class="el" href="p__and__p_8c_source.html#l00344">saveCharacters()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_aec06dfc8a90dfe2c5a0c7d56f727ae21_cgraph.svg" width="318" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_aec06dfc8a90dfe2c5a0c7d56f727ae21_icgraph.svg" width="310" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab79b1f170a60ef74d15baec28e4f11a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79b1f170a60ef74d15baec28e4f11a8">&#9670;&nbsp;</a></span>saveCharacters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int saveCharacters </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="p__and__p_8h.html#structCharacter">Character</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function validates the data, opens a file descriptor for writing, and writes the data to the file. </p>
<p>It is valid iff all character entries passes <a class="el" href="p__and__p_8c.html#aec06dfc8a90dfe2c5a0c7d56f727ae21" title="This function checks whether a Character struct is valid It is valid iff all of its fields are valid ...">isValidCharacter()</a> function It returns 0 on success and 1 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>The array of <a class="el" href="p__and__p_8h.html#structCharacter" title="Records the base details of a player character.">Character</a> to save. </td></tr>
    <tr><td class="paramname">nmemb</td><td>The number of elements in the array. </td></tr>
    <tr><td class="paramname">fd</td><td>The file descriptor to write to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00344">344</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8c_source.html#l00289">isValidCharacter()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_ab79b1f170a60ef74d15baec28e4f11a8_cgraph.svg" width="488" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a77ba374e7f225849324a43bb1cc25340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ba374e7f225849324a43bb1cc25340">&#9670;&nbsp;</a></span>loadCharacters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loadCharacters </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="p__and__p_8h.html#structCharacter">Character</a> **&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads <a class="el" href="p__and__p_8h.html#structCharacter" title="Records the base details of a player character.">Character</a> from a file descriptor, validates the data and stores it in the incomming pointer. </p>
<p>It created and allocates space depending on the number of Characters to load Each characters read must pass <a class="el" href="p__and__p_8c.html#aec06dfc8a90dfe2c5a0c7d56f727ae21" title="This function checks whether a Character struct is valid It is valid iff all of its fields are valid ...">isValidCharacter()</a> validation It returns 0 on success and 1 on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to store the loaded data. </td></tr>
    <tr><td class="paramname">nmemb</td><td>Number of elements loaded. </td></tr>
    <tr><td class="paramname">fd</td><td>File descriptor to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00398">398</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8c_source.html#l00289">isValidCharacter()</a>, <a class="el" href="p__and__p_8h_source.html#l00072">Character::name</a>, and <a class="el" href="p__and__p_8h_source.html#l00071">Character::profession</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_a77ba374e7f225849324a43bb1cc25340_cgraph.svg" width="486" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a296f75eb03e00e12cf915c62b664c075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296f75eb03e00e12cf915c62b664c075">&#9670;&nbsp;</a></span>secureLoad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int secureLoad </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function attempt to acquire appropriate permissions for opening the <a class="el" href="p__and__p_8h.html#structItemDetails" title="Stores the name and description for some item type that can be carried by player characters as part o...">ItemDetails</a> database and load the database from the specified file, and then call the function playgame() to which it should pass the loaded data and the number of items in the loaded data. </p>
<p>It returns 0 on success, 1 on deserialization error, and 2 on permission or other errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>The path to the file to load data from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 on deserialization error, 2 on permission or other errors. </dd></dl>

<p class="definition">Definition at line <a class="el" href="p__and__p_8c_source.html#l00478">478</a> of file <a class="el" href="p__and__p_8c_source.html">p_and_p.c</a>.</p>

<p class="reference">References <a class="el" href="p__and__p_8c_source.html#l00119">loadItemDetails()</a>, and <a class="el" href="p__and__p_8c.html#a1eaab20527c20e574a714be763e26eb6">playGame()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_a296f75eb03e00e12cf915c62b664c075_cgraph.svg" width="650" height="114"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1eaab20527c20e574a714be763e26eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eaab20527c20e574a714be763e26eb6">&#9670;&nbsp;</a></span>playGame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void playGame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="p__and__p_8h.html#structItemDetails">ItemDetails</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="p__and__p_8c_source.html#l00478">secureLoad()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="p__and__p_8c_a1eaab20527c20e574a714be763e26eb6_icgraph.svg" width="244" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="p__and__p_8c.html">p_and_p.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
